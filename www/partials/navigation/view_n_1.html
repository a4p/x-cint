<div ng-controller="ctrlDetailedObject" class="c4p-color-a-gradient{{cards.length}}">
	<div ng-controller="ctrlAction" ng-init="watchSrvNav();">

		<!-- Header -->
		<div class="row c4p-header-std c4p-header-details c4p-color-gradient0" ng-style="{width:getDetailWidth()+'px'}"
			resize-opts="{name:'navigation_detail_title'}"
			ng-include="'partials/navigation/view_n_1_header.html'"></div>


		<!-- Details -->
		<div sense-opts="{name:'detailed_item_wrapper', axeY:'scroll', watchRefresh:['srvNav.item', 'srvNav.itemRelatedList[srvNav.itemRelatedGroup.type]']}"
			sense-scrollopts="{scrollbarClass:'c4p-scrollbar'}"
			ng-style="{width:getDetailWidth()+'px'}"
			resize-opts="{name:'detailed_item_wrapper'}"
			resizecss-height="getResizeHeight() - getResizePathValue('navigation_detail_title', '', 'offsetHeight') - getResizePathValue('navigation_footer_detail', '', 'offsetHeight')">

			<div class="col-xxs-12 c4p-color-gradient0" 
				resize-opts="{name:'detailed_item_scroller', watchRefresh:['srvNav.item', 'srvNav.itemRelatedList[srvNav.itemRelatedGroup.type]']}">
				<!-- each cards -->
				<div ng-repeat="card in cards" 
					class="c4p-color-a-gradient{{$index}} c4p-card row" 
					ng-class="{'c4p-card-thumb': $first}"
					ng-init="cardItem = srvNav.item; cardGroups = card.groups; cardHasThumb = ($first == true); cardItemName = itemName; cardIsAboutVideo = isVideo; cardIsAboutFile = isFile;"
					ng-include ="'partials/navigation/cards/detail_card.html'"></div>
			</div>

			<!-- OUTSIDE the scroller zone : Modal droppable zone to activate Link actions -->
			<div ng-show="dndActive" ng-controller="ctrlLinkActions">

				<div style="position: absolute; z-index: 1041; top: 0; left: 0; bottom:0; right:0;"
					ng-class="{'c4p-dropzone-active': dndActive, 'c4p-dropzone-active-hover': dropOver}"
					ng-style="{width:getDetailWidth()+'px'}"
					resize-opts="{name:'navigation_detail_link_drop_zone', watchRefresh:['getSensePanelScrollX()', 'srvNav.item.id.dbid']}"
					resizecss-height="getResizePathValue('detailed_item_wrapper', '', 'offsetHeight')"
					sense-opts="{name:'navigation_detail_link_drop_zone'}"
					sense-dndstart="dndStart($event)" sense-dndend="dndEnd($event)"
					sense-dndcancel="dndCancel($event)"
					sense-dropstart="dropStart($event)"
					sense-dropend="dropEnd($event)"
					sense-dropcancel="dropCancel($event)"
					sense-dropoverenter="dropOverEnter($event)"
					sense-dropoverleave="dropOverLeave($event)">

					<div ng-style="{width:getDetailWidth()+'px'}"
						resize-opts="{name:'navigation_detail_link_zone_wrapper', watchRefresh:['getSensePanelScrollX()', 'srvNav.item']}"
						sense-opts="{name:'navigation_detail_link_zone_wrapper', axeY:'scroll', watchRefresh:'srvNav.itemRelatedList'}"
						ng-show="dndActive">

						<div>
							<span>
								{{translate('htmlCardsTextActionAs')}}
								{{srvLocale.translations.htmlShortLinkName[fromLink]}}
							</span>
						</div>
					</div>
				</div>
			</div>
		</div>
			<!--

			<div class="row" style="margin:0;"
			     ng-style="{width:getDetailWidth()+'px'}"
			     resize-opts="{watchRefresh:['srvNav.item', 'srvNav.history.length']}">
			    <footer ng-include="'partials/navigation/footer_detail.html'"></footer>
			</div>

			-->
	</div>
</div>
